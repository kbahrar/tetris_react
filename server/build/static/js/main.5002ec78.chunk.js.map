{"version":3,"sources":["actions/index.js","services/Sockets.js","components/GAME/GridSquare.js","utils/index.js","components/GAME/GridBoard.js","components/UTILS/Select.js","components/GAME/GridBoardOpponent.js","components/GAME/NextBlock.js","components/GAME/ScoreBoard.js","components/GAME/Controls.js","components/GAME/MessagePopup.js","components/Game.js","components/UTILS/Error.js","components/Login.js","components/ROOMS/Room.js","components/ROOMS/Users.js","components/ROOMS/Chat.js","components/Rooms.js","App.js","reportWebVitals.js","reducers/game-reducer.js","reducers/auth-reducer.js","reducers/socket_reducer.js","reducers/room-reducer.js","reducers/rooms-reducer.js","reducers/error-reducer.js","reducers/users-reducer.js","reducers/msgs-reducer.js","reducers/opGame-reducer.js","reducers/index.js","index.js"],"names":["moveLeft","type","moveRight","rotate","moveDown","drop","updateData","data","payload","addOpponent","opponent","setError","error","Sockets","props","socket","useSelector","state","auth","dispatch","room","useDispatch","useEffect","on","player","emit","rooms","setRooms","joinRoom","msg","users","setUsers","setMsgRoom","setMsgs","console","log","name","updateDataOp","off","children","GridSquare","classes","shadow","color","classe","className","randomShape","min","max","shapes","length","Math","floor","random","defaultState","grid","Array","from","fill","shape","rotation","x","y","nextShape","isRunning","score","speed","gameOver","yShadow","isWin","nextRotation","canMoveTo","currentShape","row","col","proposedX","proposedY","possibleRow","undefined","addBlockToGrid","blockoffGrid","block","newGrid","checkRows","completedRows","indexOf","splice","unshift","GridBoard","game","blockColor","gridSquares","map","rowArray","square","blockX","blockY","blockYshadow","k","key","Select","roomPlayers","players","React","useState","setPlayer","input","document","querySelector","item","value","id","onChange","e","blur","target","GridBoardOpo","opGame","NextBlock","box","ScoreBoard","setMsg","play_btn","canRestart","host","onClick","messages","index","sender","placeholder","sendMsg","Controls","keys","UP","DOWN","LEFT","RIGHT","ESPACE","Object","freeze","handleMoves","moveFunc","handleKeyDown","event","keyCode","window","addEventListener","removeEventListener","disabled","MessagePopup","classname","title","Game","Error","errorState","Login","username","setUserName","htmlFor","io","withCredentials","cookie","connectSocket","connected","preventDefault","Room","setRoom","Users","Chat","Rooms","App","navigate","useNavigate","path","element","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","gameReducer","action","addInGrid","obj","newState","maybeY","newRotation","authReducer","socketReducer","roomReducer","roomsReducer","errorReducer","usersReducer","msgsReducer","opGameReducer","reducers","combineReducers","store","createStore","__REDUX_DEVTOOLS_EXTENSION__","ReactDOM","render","StrictMode","getElementById"],"mappings":"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AAG,EAAG,GACX,CAAC,EAAG,EAAG,EAAG,GACV,CAAC,EAAG,EAAG,EAAG,GACV,CAAC,EAAG,EAAG,EAAG,IAEV,CAAC,CAAC,EAAG,EAAG,EAAG,GACX,CAAC,EAAG,EAAG,EAAG,GACV,CAAC,EAAG,EAAG,EAAG,GACV,CAAC,EAAG,EAAG,EAAG,IAEV,CAAC,CAAC,EAAG,EAAG,EAAG,GACX,CAAC,EAAG,EAAG,EAAG,GACV,CAAC,EAAG,EAAG,EAAG,GACV,CAAC,EAAG,EAAG,EAAG,KAGV,CAAC,CAAC,CAAC,EAAG,EAAG,EAAG,GACZ,CAAC,EAAG,EAAG,EAAG,GACV,CAAC,EAAG,EAAG,EAAG,GACV,CAAC,EAAG,EAAG,EAAG,IAEV,CAAC,CAAC,EAAG,EAAG,EAAG,GACX,CAAC,EAAG,EAAG,EAAG,GACV,CAAC,EAAG,EAAG,EAAG,GACV,CAAC,EAAG,EAAG,EAAG,IAEV,CAAC,CAAC,EAAG,EAAG,EAAG,GACX,CAAC,EAAG,EAAG,EAAG,GACV,CAAC,EAAG,EAAG,EAAG,GACV,CAAC,EAAG,EAAG,EAAG,IAEV,CAAC,CAAC,EAAG,EAAG,EAAG,GACX,CAAC,EAAG,EAAG,EAAG,GACV,CAAC,EAAG,EAAG,EAAG,GACV,CAAC,EAAG,EAAG,EAAG,KAGV,CAAC,CAAC,CAAC,EAAG,EAAG,EAAG,GACZ,CAAC,EAAG,EAAG,EAAG,GACV,CAAC,EAAG,EAAG,EAAG,GACV,CAAC,EAAG,EAAG,EAAG,IAEV,CAAC,CAAC,EAAG,EAAG,EAAG,GACX,CAAC,EAAG,EAAG,EAAG,GACV,CAAC,EAAG,EAAG,EAAG,GACV,CAAC,EAAG,EAAG,EAAG,IAEV,CAAC,CAAC,EAAG,EAAG,EAAG,GACX,CAAC,EAAG,EAAG,EAAG,GACV,CAAC,EAAG,EAAG,EAAG,GACV,CAAC,EAAG,EAAG,EAAG,IAEV,CAAC,CAAC,EAAG,EAAG,EAAG,GACX,CAAC,EAAG,EAAG,EAAG,GACV,CAAC,EAAG,EAAG,EAAG,GACV,CAAC,EAAG,EAAG,EAAG,KAGV,CAAC,CAAC,CAAC,EAAG,EAAG,EAAG,GACZ,CAAC,EAAG,EAAG,EAAG,GACV,CAAC,EAAG,EAAG,EAAG,GACV,CAAC,EAAG,EAAG,EAAG,IAEV,CAAC,CAAC,EAAG,EAAG,EAAG,GACX,CAAC,EAAG,EAAG,EAAG,GACV,CAAC,EAAG,EAAG,EAAG,GACV,CAAC,EAAG,EAAG,EAAG,KAGV,CAAC,CAAC,CAAC,EAAG,EAAG,EAAG,GACZ,CAAC,EAAG,EAAG,EAAG,GACV,CAAC,EAAG,EAAG,EAAG,GACV,CAAC,EAAG,EAAG,EAAG,IAEV,CAAC,CAAC,EAAG,EAAG,EAAG,GACX,CAAC,EAAG,EAAG,EAAG,GACV,CAAC,EAAG,EAAG,EAAG,GACV,CAAC,EAAG,EAAG,EAAG,KAGV,CAAC,CAAC,CAAC,EAAG,EAAG,EAAG,GACZ,CAAC,EAAG,EAAG,EAAG,GACV,CAAC,EAAG,EAAG,EAAG,GACV,CAAC,EAAG,EAAG,EAAG,MCnNI,SAASuC,EAAU1E,GACjC,IAAM2E,EAAOzE,aAAY,SAACC,GAAD,OAAWA,EAAMwE,QAClClC,EAAyCkC,EAAzClC,KAAMI,EAAmC8B,EAAnC9B,MAAOC,EAA4B6B,EAA5B7B,SAAUC,EAAkB4B,EAAlB5B,EAAGC,EAAe2B,EAAf3B,EAAGM,EAAYqB,EAAZrB,QAE/Ba,EAAQhC,EAAOU,GAAOC,GACtB8B,EAAa/B,EACnBzB,QAAQC,IAAIiC,GACZ,IAAMuB,EAAW,OAAGpC,QAAH,IAAGA,OAAH,EAAGA,EAAMqC,KAAI,SAACC,EAAUpB,GAExC,cAAOoB,QAAP,IAAOA,OAAP,EAAOA,EAAUD,KAAI,SAACE,EAAQpB,GAE7B,IAAMqB,EAASrB,EAAMb,EACfmC,EAASvB,EAAMX,EACfmC,EAAexB,EAAML,EAAU,EACjC1B,GAAS,EACTC,EAAQmD,EAERC,GAAU,GAAKA,GAAM,OAAGd,QAAH,IAAGA,OAAH,EAAGA,EAAO/B,SAAU8C,GAAU,GAAKA,GAAM,OAAGf,QAAH,IAAGA,OAAH,EAAGA,EAAO/B,QAC3EP,EAAkC,IAA1BsC,EAAMe,GAAQD,GAAgBpD,EAAQ+C,EAEtCK,GAAU,GAAKA,GAAM,OAAGd,QAAH,IAAGA,OAAH,EAAGA,EAAO/B,SAAU+C,GAAgB,GAAKA,GAAY,OAAGhB,QAAH,IAAGA,OAAH,EAAGA,EAAO/B,UAC5FP,EAAwC,IAAhCsC,EAAMgB,GAAcF,GAAgBpD,EAAQ+C,EACpDhD,EAAyC,IAAhCuC,EAAMgB,GAAcF,IAG9B,IAAMG,EAAIzB,EAAMlB,EAAK,GAAGL,OAASwB,EAEjC,OAAO,kBAAClC,EAAD,CACN2D,IAAKD,EACLtD,OAAQD,EAAQ,EAAI,oBAAsB,cAC1CD,OAAQA,EACRC,MAAOA,UAIV,OACC,yBAAKE,UAAU,cACb8C,G,WCtCW,SAASS,EAAOtF,GAC3B,IAAMK,EAAWE,cACdH,EAAOF,aAAY,SAAAC,GAAK,OAAIA,EAAMC,QAC/BmF,EAAcrF,aAAY,SAAAC,GAAK,uBAAIA,EAAMG,YAAV,aAAI,EAAYkF,WACrD,EAA4BC,IAAMC,SAAN,OAAetF,QAAf,IAAeA,OAAf,EAAeA,EAAMR,UAAjD,mBAAOc,EAAP,KAAeiF,EAAf,KACMrF,EAAOJ,aAAY,SAAAC,GAAK,OAAIA,EAAMG,QAClCsF,EAAQC,SAASC,cAAc,WAE/BN,EAAO,OAAGD,QAAH,IAAGA,OAAH,EAAGA,EAAaT,KAAI,SAAAiB,GAC7B,GAAIA,KAAI,OAAK3F,QAAL,IAAKA,OAAL,EAAKA,EAAMkB,MACf,OAAO,4BAAQ+D,IAAKU,EAAMC,MAAOD,GAAOA,MAwBnD,OAZGN,IAAMjF,WAAU,YACR,OAACJ,QAAD,IAACA,OAAD,EAACA,EAAMR,WACHU,IAAY,OAAJA,QAAI,IAAJA,OAAA,EAAAA,EAAMkF,QAAQpD,QAAS,KAAK,OAAChC,QAAD,IAACA,OAAD,EAACA,EAAMR,WAC3CU,EAAKkF,QAAQV,KAAI,SAACiB,GACVA,KAAI,OAAK3F,QAAL,IAAKA,OAAL,EAAKA,EAAMkB,OACfjB,EAASV,EAAYoG,SAKtC,CAAC3F,EAAME,IAGN,4BAAQyB,UAAU,aAAakE,GAAG,SAASD,MAAOtF,EAAQwF,SAtBzC,SAACC,GAClBP,EAAMQ,OACF1F,IAAWyF,EAAEE,OAAOL,QACpBL,EAAUQ,EAAEE,OAAOL,OACnB3F,ELuCD,CACHlB,KAlDkB,YKWdkB,EAASV,EAAYwG,EAAEE,OAAOL,WAkB9BR,GClCG,SAASc,EAAatG,GACpC,IAAM2E,EAAOzE,aAAY,SAACC,GAAD,OAAWA,EAAMoG,UAClC9D,EAAiDkC,EAAjDlC,KAAMI,EAA2C8B,EAA3C9B,MAAOC,EAAoC6B,EAApC7B,SAAUC,EAA0B4B,EAA1B5B,EAAGC,EAAuB2B,EAAvB3B,EAAGK,EAAoBsB,EAApBtB,SAAUE,EAAUoB,EAAVpB,MAEzCY,EAAQhC,EAAOU,GAAOC,GACtB8B,EAAa/B,EAEbgC,EAAW,OAAGpC,QAAH,IAAGA,OAAH,EAAGA,EAAMqC,KAAI,SAACC,EAAUpB,GAExC,cAAOoB,QAAP,IAAOA,OAAP,EAAOA,EAAUD,KAAI,SAACE,EAAQpB,GAE7B,IAAMqB,EAASrB,EAAMb,EACfmC,EAASvB,EAAMX,EAEjBnB,EAAQmD,EAERC,GAAU,GAAKA,GAAM,OAAGd,QAAH,IAAGA,OAAH,EAAGA,EAAO/B,SAAU8C,GAAU,GAAKA,GAAM,OAAGf,QAAH,IAAGA,OAAH,EAAGA,EAAO/B,UAC3EP,EAAkC,IAA1BsC,EAAMe,GAAQD,GAAgBpD,EAAQ+C,GAG/C,IAAMQ,EAAIzB,EAAMlB,EAAK,GAAGL,OAASwB,EAEjC,OAAO,kBAAClC,EAAD,CACN2D,IAAKD,EACLtD,OAAQD,EAAQ,EAAI,wBAA0B,kBAC9CD,QAZY,EAaZC,MAAOA,UAIV,OACO,yBAAKE,UAAU,gBACX,yBAAKA,UAAU,mBAAf,YAGA,kBAACuD,EAAD,MACNjC,GAAaE,EAKfA,EACA,yBAAKxB,UAAU,UAAf,YAIA,yBAAKA,UAAU,aAAf,eATA,yBAAKA,UAAU,uBACb8C,ICtCS,SAAS2B,EAAUxG,GAC9B,IAAMiD,EAAY/C,aAAY,SAACC,GAAD,OAAWA,EAAMwE,KAAK1B,aAE9CwD,EAAMtE,EAAOc,GAAW,GACxBpB,EAAQoB,EAERR,EAAOgE,EAAI3B,KAAI,SAACC,EAAUpB,GAC5B,OAAOoB,EAASD,KAAI,SAACE,EAAQpB,GACzB,OAAO,kBAAClC,EAAD,CACH2D,IAAG,UAAK1B,GAAL,OAAWC,GACd9B,OAAQkD,EAAS,EAAI,oBAAsB,cAC3CnD,MAAOmD,EAAS,EAAInD,EAAQmD,UAIxC,OACI,yBAAKjD,UAAU,cACVU,EACD,kBAAC6D,EAAD,OCpBG,SAASI,EAAW1G,GACdO,cAAjB,IACMoE,EAAOzE,aAAY,SAACC,GAAD,OAAWA,EAAMwE,QACpCrE,EAAOJ,aAAY,SAAAC,GAAK,OAAIA,EAAMG,QAClCL,EAASC,aAAY,SAAAC,GAAK,OAAIA,EAAMF,UACpCG,EAAOF,aAAY,SAAAC,GAAK,OAAIA,EAAMC,QACxC,EAAsBqF,IAAMC,SAAS,IAArC,mBAAO3E,EAAP,KAAY4F,EAAZ,KACQxD,EAA2CwB,EAA3CxB,MAAOD,EAAoCyB,EAApCzB,UAAWG,EAAyBsB,EAAzBtB,SACpBuD,GAD6CjC,EAAfkC,WACnBhB,SAASC,cAAc,cAmBxC,OACI,yBAAK/D,UAAU,eACX,yBAAKA,UAAU,YAAf,UAAkCoB,GAClC,yBAAKpB,UAAU,YAAf,aACK,OAAJ3B,QAAI,IAAJA,OAAA,EAAAA,EAAMkB,SAAN,OAAehB,QAAf,IAAeA,OAAf,EAAeA,EAAMwG,MAClB,yBAAK/E,UAAU,YACX,4BAAQkE,GAAG,WAAWlE,UAAU,iBAAiBgF,QAvB9C,WACfH,EAASR,OACL/C,GACCH,GACDjD,EAAOU,KAAK,gBAoBEuC,EAAsB,UAAV,UAUtB,qCAEJ,yBAAKnB,UAAU,aACf,yBAAKA,UAAU,iBAAf,QAGA,yBAAKA,UAAU,cAAf,OACKzB,QADL,IACKA,OADL,EACKA,EAAM0G,SAASlC,KAAI,SAACiB,EAAMkB,GAAP,OAChB,yBAAKlF,UAAU,UAAUsD,IAAK4B,GAC1B,0BAAMlF,UAAU,kBACXgE,EAAKmB,QAFd,MAGenB,EAAKhF,SAI5B,yBAAKgB,UAAU,aACX,2BACI5C,KAAK,OACL4C,UAAU,aACVoF,YAAY,mBACZjB,SA9CA,SAACC,GACbQ,EAAOR,EAAEE,OAAOL,QA8CJA,MAAOjF,IAEX,yBAAKgB,UAAU,cAAcgF,QAAS,kBA7ClC,SAAChG,GACbd,EAAOU,KAAK,WAAYI,GACxB4F,EAAO,IA2C6CS,CAAQrG,KAApD,WCnED,SAASsG,EAASrH,GAC7B,IAAMsH,EAAO,CACTC,GAAI,GACJC,KAAM,GACNC,KAAM,GACNC,MAAO,GACPC,OAAQ,IAEZC,OAAOC,OAAOP,GAEd,IAAMjH,EAAWE,cACX2C,EAAYhD,aAAY,SAACC,GAAD,OAAWA,EAAMwE,KAAKzB,aAC9CG,EAAWnD,aAAY,SAACC,GAAD,OAAWA,EAAMwE,KAAKtB,YAC7CpD,EAASC,aAAY,SAAAC,GAAK,OAAIA,EAAMF,UAEpC6H,EAAc,SAACC,GACZ7E,IAAaG,GAGlBhD,EAAS0H,MAGPC,EAAgB,SAACC,GACnB,OAAQA,EAAMC,SACV,KAAKZ,EAAKC,GAEN,YADAtH,EAAOU,KAAK,aAAc2G,EAAKC,IAEnC,KAAKD,EAAKE,KAEN,YADAvH,EAAOU,KAAK,aAAc2G,EAAKE,MAEnC,KAAKF,EAAKG,KAEN,YADAxH,EAAOU,KAAK,aAAc2G,EAAKG,MAEnC,KAAKH,EAAKI,MAEN,YADAzH,EAAOU,KAAK,aAAc2G,EAAKI,OAEnC,KAAKJ,EAAKK,OAEN,YADA1H,EAAOU,KAAK,aAAc2G,EAAKK,QAEnC,QACI,SAWZ,OAPAnH,qBAAU,WAEN,OADA2H,OAAOC,iBAAiB,UAAWJ,GAC5B,WACHG,OAAOE,oBAAoB,UAAWL,MAE3C,CAAC9E,IAGA,yBAAKnB,UAAU,YACX,4BAAQuG,UAAWpF,GAAaG,EAAUtB,UAAU,iBAAiBgF,QAAS,kBAAMe,EAAY5I,KAAhG,QACA,4BAAQoJ,UAAWpF,GAAaG,EAAUtB,UAAU,iBAAiBgF,QAAS,kBAAMe,EAAY1I,KAAhG,SACA,4BAAQkJ,UAAWpF,GAAaG,EAAUtB,UAAU,iBAAiBgF,QAAS,kBAAMe,EAAYzI,KAAhG,UACA,4BAAQiJ,UAAWpF,GAAaG,EAAUtB,UAAU,iBAAiBgF,QAAS,kBAAMe,EAAYxI,KAAhG,QACA,4BAAQgJ,UAAWpF,GAAaG,EAAUtB,UAAU,iBAAiBgF,QAAS,kBAAMe,EAAYvI,KAAhG,SC1DG,SAASgJ,EAAavI,GAAQ,IAAD,EAClCkD,EAAYhD,aAAY,SAACC,GAAD,OAAWA,EAAMwE,KAAKzB,aAC9CG,EAAWnD,aAAY,SAACC,GAAD,OAAWA,EAAMwE,KAAKtB,YAC/CmF,EAAY,gBACZzH,EAAM,CAAC0H,MAAO,GAAIzB,SAAU,IAE5B9D,IAAcG,IACdmF,EAAY,wBAEXtF,IACDnC,EAAI0H,MAAQ,qBACZ1H,EAAIiG,SAAW,CACX,mDACA,0BACA,oBACA,qBACA,sBACA,oBACA,uBAIJ3D,IACAtC,EAAI0H,MAAQ,YACZ1H,EAAIiG,SAAW,CAAC,yDAGpB,IAAMA,EAAQ,OAAGjG,QAAH,IAAGA,GAAH,UAAGA,EAAKiG,gBAAR,aAAG,EAAelC,KAAI,SAACiB,EAAMV,GACvC,OAAQ,uBAAGA,IAAKA,GAAMU,MAE1B,OACI,yBAAKhE,UAAWyG,GACZ,4BAAKzH,EAAI0H,OACRzB,GC7BE,SAAS0B,IASpB,OARAjD,IAAMjF,WAAU,WAGZ,OAFAY,QAAQC,IAAI,MAEL,WACHD,QAAQC,IAAI,UAEjB,IAGC,oCACI,kBAACqD,EAAD,MACA,kBAAC8B,EAAD,MACA,kBAACE,EAAD,MACA,kBAACW,EAAD,MACA,kBAACkB,EAAD,OClBG,SAASI,EAAO3I,GAC3B,IAAM4I,EAAa1I,aAAY,SAACC,GAAD,OAAWA,EAAML,SAC1CO,EAAWE,cAMjB,OACI,oCACCqI,EACG,yBAAK7G,UAAU,eACX,wBAAIA,UAAU,WAAW6G,GACzB,yBAAK7G,UAAU,aAAagF,QATvB,SAACZ,GACd9F,EZkIG,CAAClB,KAVW,cYhHP,MAKJ,M,YCfG,SAAS0J,EAAO7I,GAC3B,IACA,EAAgC0F,mBAAS,IAAzC,mBAAOoD,EAAP,KAAiBC,EAAjB,KACM1I,EAAWE,cAsBjB,OACI,yBAAKwB,UAAU,gBACX,2BAAOiH,QAAQ,WAAWjH,UAAU,kBAApC,eAGA,2BACIA,UAAU,iBACVkE,GAAG,WACH9G,KAAK,OACL+G,SA7BW,SAACC,GACpB4C,EAAY5C,EAAEE,OAAOL,QA6BbmB,YAAY,wBAChB,4BAAQhI,KAAK,SAAS4C,UAAU,gBAAgBgF,QA3BzC,SAACZ,GACZ,GAAK2C,EAIA,CACD,IAAM7I,EAASgJ,YAdN,wBAcmB,CACxBC,iBAAiB,IAErBrD,SAASsD,OAAT,eAA0BL,GAC1BzI,EbiEiB,SAACJ,GAC1B,MAAO,CACHd,KAJuB,iBAKvBO,QAASO,GapEImJ,CAAcnJ,IAClBA,EAAOoJ,WACRhJ,EAASR,EAAS,2BAVtBsG,EAAEmD,iBACFjJ,EAASR,EAAS,wCAwBlB,SACA,kBAAC8I,EAAD,OCtCG,SAASY,EAAKvJ,GACzB,IAAMY,EAAQV,aAAY,SAAAC,GAAK,OAAIA,EAAMS,SACzC,EAAwB8E,mBAAS,IAAjC,mBAAOpF,EAAP,KAAakJ,EAAb,KACMvJ,EAASC,aAAY,SAAAC,GAAK,OAAIA,EAAMF,UAE1CwF,IAAMjF,WAAU,WACRP,GACAA,EAAOU,KAAK,eAEjB,CAACV,IAwBJ,OACI,yBAAK8B,UAAU,SACX,yBAAKA,UAAU,iBAAf,SAGA,yBAAKA,UAAU,eACVnB,EAAMkE,KAAI,SAACiB,EAAMkB,GAAP,OACP,yBAAK5B,IAAK4B,EAAOlF,UAAU,eACtBgE,EACD,yBACIV,IAAK,UAAY4B,EACjBlF,UAAU,YACVgF,QAAS,kBAlBfzF,EAkB8ByE,OAjBxC9F,GACAA,EAAOU,KAAK,YAAaW,IAFhB,IAACA,IAeE,aAUZ,yBAAKS,UAAU,aACX,2BACI5C,KAAK,OACL4C,UAAU,aACVoF,YAAY,YACZjB,SA9CO,SAACC,GACpBqD,EAAQrD,EAAEE,OAAOL,QA8CLA,MAAO1F,IAEX,yBAAKyB,UAAU,cAAcgF,QA7CtB,SAACZ,GACX7F,GAGDkJ,EAAQ,IACJvJ,IACAA,EAAOU,KAAK,cAAeL,GAC3BL,EAAOU,KAAK,eALhBwF,EAAEmD,mBA2CE,gBAIJ,kBAACX,EAAD,OClEG,SAASc,EAAMzJ,GAC1B,IAAMC,EAASC,aAAY,SAAAC,GAAK,OAAIA,EAAMF,UACpCe,EAAQd,aAAY,SAAAC,GAAK,OAAIA,EAAMa,SAQzC,OANAR,qBAAU,WACFP,GACAA,EAAOU,KAAK,WAEjB,CAACV,IAGA,yBAAK8B,UAAU,gBACX,yBAAKA,UAAU,iBACVf,EAAMoB,OADX,iBAGCpB,EAAM8D,KAAI,SAACiB,EAAMkB,GAAP,OACP,yBAAK5B,IAAK4B,EAAOlF,UAAU,eAAegE,EAAK,yBAAKhE,UAAU,oBChB/D,SAAS2H,EAAK1J,GACzB,MAAsB0F,mBAAS,IAA/B,mBAAO3E,EAAP,KAAY4F,EAAZ,KACM1G,EAASC,aAAY,SAAAC,GAAK,OAAIA,EAAMF,UACpC+G,EAAW9G,aAAY,SAAAC,GAAK,OAAIA,EAAM6G,YAe5C,OACI,yBAAKjF,UAAU,QACX,yBAAKA,UAAU,iBAAf,QAGA,yBAAKA,UAAU,cACViF,EAASlC,KAAI,SAACiB,EAAMkB,GAAP,OACV,yBAAKlF,UAAU,UAAUsD,IAAK4B,GAC1B,0BAAMlF,UAAU,kBACXgE,EAAKmB,QAFd,MAGenB,EAAKhF,SAI5B,yBAAKgB,UAAU,aACX,2BACI5C,KAAK,OACL4C,UAAU,aACVoF,YAAY,mBACZjB,SAhCA,SAACC,GACbQ,EAAOR,EAAEE,OAAOL,QAgCJA,MAAOjF,IAEX,yBAAKgB,UAAU,cAAcgF,QA/BzB,SAACZ,GACRpF,GAGDd,EAAOU,KAAK,WAAYI,GACxB4F,EAAO,KAHPR,EAAEmD,mBA6BE,UCtCD,SAASK,EAAM3J,GAC1B,OACI,oCACI,kBAACyJ,EAAD,MACA,kBAACF,EAAD,MACA,kBAACG,EAAD,OCsCGE,MAlCf,WACC,IAAMxJ,EAAOF,aAAY,SAACC,GAAD,OAAWA,EAAMC,QACpCE,EAAOJ,aAAY,SAACC,GAAD,OAAWA,EAAMG,QACpCuJ,EAAWC,cAajB,OAXArE,IAAMjF,WAAU,WACXF,GACJc,QAAQC,IAAIf,EAAKgB,MAIhBuI,EAHIzJ,EAEIE,EACC,GAAD,OAAIA,EAAKgB,KAAT,YAAiBlB,EAAKkB,KAAtB,KAEC,SAJA,OAKR,CAAClB,EAAME,IAGT,yBAAKyB,UAAU,OACd,kBAAC,EAAD,KACC,4BAAQA,UAAU,cACjB,wBAAIA,UAAU,aAAd,WAED,kBAAC,IAAD,KACC,kBAAC,IAAD,CAAOgI,KAAK,IAAIC,QAAS,kBAACnB,EAAD,QACzB,kBAAC,IAAD,CAAOkB,KAAK,QAAQC,QAAS,kBAACL,EAAD,QAC7B,kBAAC,IAAD,CAAOI,KAAK,mBAAmBC,QAAS,kBAACtB,EAAD,QACxC,kBAAC,IAAD,CAAOqB,KAAK,IAAIC,QAAS,kBAACnB,EAAD,YC7BfoB,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqBC,MAAK,YAAkD,IAA/CC,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAON,GACPO,EAAQP,O,uBCwFCQ,EAxFK,WAAqC,IAApCvK,EAAmC,uDAA3BqC,IAAgBmI,EAAW,uCAC5C9H,EAA6D1C,EAA7D0C,MAAOJ,EAAsDtC,EAAtDsC,KAAMM,EAAgD5C,EAAhD4C,EAAGC,EAA6C7C,EAA7C6C,EAAGF,EAA0C3C,EAA1C2C,SAAUG,EAAgC9C,EAAhC8C,UAAWE,EAAqBhD,EAArBgD,MAAOD,EAAc/C,EAAd+C,UAEjD0H,EAAY,SAAC5H,GACf,IAAM6H,EAAM5G,EAAepB,EAAOJ,EAAMM,EAAGC,EAAGF,GACxCsB,EAAUyG,EAAIpI,KAGpB,GAFiBoI,EAAIxH,SAEP,CACV,IAAMyH,EAAQ,eAAQ3K,GAGtB,OAFA2K,EAASjI,MAAQ,EACjBiI,EAASrI,KAAO2B,EACT,2BAAKjE,GAAZ,IAAmBkD,UAAU,IAGjC,IAAMyH,EAAWtI,IAUjB,OATAsI,EAASrI,KAAO2B,EAChB0G,EAASjI,MAAQI,EACjB6H,EAAS7H,UAAYjB,IACrB8I,EAAS3H,MAAQA,EACjB2H,EAAS5H,UAAYA,EAGrB4H,EAAS3H,MAAQA,EAAQkB,EAAUD,GAE5B0G,GAGLxL,EAAW,WACb,IAAMyL,EAAS/H,EAAI,EACnB,OAAIS,EAAUZ,EAAOJ,EAAMM,EAAGgI,EAAQjI,GAC3B,2BAAK3C,GAAZ,IAAmB6C,EAAG+H,IAGnBH,EAAU5H,IAGfzD,EAAO,WAET,IADA,IAAIwL,EAAS/H,EAAI,EACVS,EAAUZ,EAAOJ,EAAMM,EAAGgI,EAAQjI,IACrCiI,IAGJ,OAAOH,EADPG,GAAU,IAId,OAAQJ,EAAOxL,MACX,IpBjDkB,SoBkDd,IAAM6L,EAAcxH,EAAaX,EAAOC,GACxC,OAAIW,EAAUZ,EAAOJ,EAAMM,EAAGC,EAAGgI,GACtB,2BAAK7K,GAAZ,IAAmB2C,SAAUkI,IAE1B7K,EAEX,IpBzDkB,aoB0Dd,OAAIsD,EAAUZ,EAAOJ,EAAMM,EAAI,EAAGC,EAAGF,GAC1B,2BAAK3C,GAAZ,IAAmB4C,EAAGA,EAAI,IAEvB5C,EAEX,IpBhEkB,YoBiEd,OAAIsD,EAAUZ,EAAOJ,EAAMM,EAAI,EAAGC,EAAGF,GAC1B,2BAAK3C,GAAZ,IAAmB4C,EAAGA,EAAI,IAEvB5C,EAEX,IpBnEkB,YoBoEd,OAAOb,IAEX,IpB1EkB,SoB2Ed,OAAO,2BAAKa,GAAZ,IAAmB+C,WAAW,IAElC,IpB9EkB,QoB+Ed,OAAO,2BAAK/C,GAAZ,IAAmB+C,WAAW,IAElC,IpB3EkB,OoB4Ed,OAAO3D,IAEX,IpB7EkB,UoB8Ed,OAAOiD,IAEX,IpB/EkB,SoBgFd,OAAOmI,EAAOjL,QAClB,QACI,OAAOS,IC5EJ8K,EAbK,WAA2B,IAA1B9K,EAAyB,uDAAjB,KAAMwK,EAAW,uCAC1C,OAAQA,EAAOxL,MACX,IrB8DmB,aqB7Df,OAAOwL,EAAOjL,QAClB,IrB8Da,QqB7DT,OAAO,2BAAIS,GAAX,IAAkBP,SAAU+K,EAAOjL,UACvC,IrB2Dc,SqB1DV,OAAO,EACX,QACI,OAAOS,ICAJ+K,EATO,WAA2B,IAA1B/K,EAAyB,uDAAjB,KAAMwK,EAAW,uCAC5C,OAAQA,EAAOxL,MACX,ItBqFuB,iBsBpFnB,OAAOwL,EAAOjL,QAClB,QACI,OAAOS,ICQJgL,EAbK,WAA2B,IAA1BhL,EAAyB,uDAAjB,KAAMwK,EAAW,uCAC1C,OAAQA,EAAOxL,MACX,IvB+FY,OuB9FR,OAAOwL,EAAOjL,QAClB,IvB+Fe,UuB9FX,OAAO,2BAAIS,GAAX,IAAkB6G,SAAS,GAAD,mBAAM7G,EAAM6G,UAAZ,CAAsB2D,EAAOjL,YAC3D,IvB4FiB,YuB3Fb,OAAO,EACX,QACI,OAAOS,ICAJiL,EATM,WAAyB,IAAxBjL,EAAuB,uDAAf,GAAIwK,EAAW,uCACzC,OAAQA,EAAOxL,MACX,IxBkHa,QwBjHT,OAAOwL,EAAOjL,QAClB,QACI,OAAOS,ICMJkL,EAXM,WAA2B,IAA1BlL,EAAyB,uDAAjB,KAAMwK,EAAW,uCAC3C,OAAQA,EAAOxL,MACX,IzB4Ha,QyB3HT,OAAOwL,EAAOjL,QAClB,IzB2He,UyB1HX,OAAO,KACX,QACI,OAAOS,ICEJmL,GATM,WAAyB,IAAxBnL,EAAuB,uDAAf,GAAIwK,EAAW,uCACzC,OAAQA,EAAOxL,MACX,I1B2Ia,Q0B1IT,OAAOwL,EAAOjL,QAClB,QACI,OAAOS,ICIJoL,GATK,WAAyB,IAAxBpL,EAAuB,uDAAf,GAAIwK,EAAW,uCACxC,OAAQA,EAAOxL,MACX,I3BqJY,O2BpJR,MAAM,GAAN,mBAAWgB,GAAX,CAAkBwK,EAAOjL,UAC7B,QACI,OAAOS,ICaJqL,GAbO,WAAqC,IAApCrL,EAAmC,uDAA3BqC,IAAgBmI,EAAW,uCACtD,OAAQA,EAAOxL,MACX,I5BEkB,U4BDd,OAAOqD,IAEX,I5BFkB,W4BGd,OAAOmI,EAAOjL,QAElB,QACI,OAAOS,ICOJsL,GAZEC,YAAgB,CAC7B/G,KAAM+F,EACNnE,OAAQiF,GACRpL,KAAM6K,EACNhL,OAAQiL,EACR5K,KAAM6K,EACNvK,MAAOwK,EACPtL,MAAOuL,EACPrK,MAAOsK,GACPtE,SAAUuE,KCTRI,GAAQC,YACZH,GACAtD,OAAO0D,8BAAgC1D,OAAO0D,gCAGhDC,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAUL,MAAOA,IACf,kBAAC,EAAD,SAIN9F,SAASoG,eAAe,SAM1BhC,M","file":"static/js/main.5002ec78.chunk.js","sourcesContent":["// GAME actions\nexport const PAUSE      = \"PAUSE\"\nexport const RESUME     = \"RESUME\"\nexport const MOVE_LEFT  = \"MOVE_LEFT\"\nexport const MOVE_RIGHT = \"MOVE_RIGHT\"\nexport const ROTATE     = \"ROTATE\"\nexport const MOVE_DOWN  = \"MOVE_DOWN\"\nexport const DROP       = \"DROP\" \nexport const RESTART    = \"RESTART\"\nexport const UPDATE     = \"UPDATE\"\nexport const UPDATEOP   = \"UPDATEOP\"\nexport const RESETOP    = \"RESETOP\"\n\nexport const moveLeft = () => {\n    return {type: MOVE_LEFT}\n}\n\nexport const moveRight = () => {\n    return {type: MOVE_RIGHT}\n}\n\nexport const rotate = () => {\n    return { type: ROTATE }\n}\n\nexport const moveDown = () => {\n    return { type: MOVE_DOWN }\n}\n\nexport const pause = () => {\n    return { type: PAUSE }\n}\n\nexport const resume = () => {\n    return { type: RESUME }\n}\n\nexport const restart = () => {\n    return { type: RESTART }\n}\n\nexport const drop = () => {\n    return { type: DROP }\n}\n\nexport const updateData = (data) => {\n    return {\n        type: UPDATE,\n        payload: data\n    }\n}\n\nexport const updateDataOp = (data) => {\n    return {\n        type: UPDATEOP,\n        payload: data\n    }\n}\n\nexport const resetDataOp = () => {\n    return {\n        type: RESETOP\n    }\n}\n\n// AUTH actions\nexport const AUTH_LOGIN  = \"AUTH_LOGIN\"\nexport const LOGOUT = \"LOGOUT\"\nexport const ADDOP = \"ADDOP\"\n\nexport const authLogin = (username) => {\n    return {\n        type: AUTH_LOGIN,\n        payload: username\n    }\n}\n\nexport const logout = () => {\n    return {type: LOGOUT}\n}\n\nexport const addOpponent = (opponent) => {\n    return {\n        type: ADDOP,\n        payload: opponent\n    }\n}\n\n//  sockets\nexport const SOCKET_CONNECT  = \"SOCKET_CONNECT\"\n\nexport const connectSocket = (socket) => {\n    return {\n        type: SOCKET_CONNECT,\n        payload: socket\n    }\n}\n\n// room\nexport const ROOM = \"ROOM\"\nexport const EXIT_ROOM = \"EXIT_ROOM\"\nexport const MSGROOM = \"MSGROOM\"\n\nexport const joinRoom = (room) => {\n    return {\n        type: ROOM,\n        payload: room\n    }\n}\n\nexport const setMsgRoom = (msg) => {\n    return {\n        type: MSGROOM,\n        payload: msg\n    }\n}\n\n// rooms\nexport const ROOMS = \"ROOMS\"\n\nexport const setRooms = (rooms) => {\n    return {\n        type: ROOMS,\n        payload: rooms\n    }\n}\n\n// errors\nexport const ERROR = \"ERROR\"\nexport const NoERROR = \"NoERROR\"\n\nexport const setError = (error) => {\n    return {\n        type: ERROR,\n        payload: error\n    }\n}\n\nexport const removeError = () => {\n    return {type: NoERROR}\n}\n\n// users\nexport const USERS = \"USERS\"\n\nexport const setUsers = (users) => {\n    return {\n        type: USERS,\n        payload: users\n    }\n}\n\n// messages\nexport const MSGS = \"MSGS\"\n\nexport const setMsgs = (msg) => {\n    return {\n        type: MSGS,\n        payload: msg\n    }\n}","import { useEffect } from \"react\"\nimport { useDispatch, useSelector } from \"react-redux\"\nimport {\n    authLogin,\n    setRooms,\n    setError,\n    removeError,\n    setUsers,\n    joinRoom,\n    setMsgRoom,\n    setMsgs,\n    updateData,\n    updateDataOp,\n    addOpponent\n} from \"../actions\"\n\nfunction Sockets(props) {\n    const socket = useSelector((state) => state.socket);\n    const auth = useSelector((state) => state.auth);\n    const opponent = useSelector(state => state.auth?.opponent)\n    const room = useSelector((state) => state.room);\n    const dispatch = useDispatch()\n\n    useEffect(() => {\n        if (socket) {\n            socket.on(\"connected\", (player) => {\n                dispatch(removeError())\n                dispatch(authLogin(player))\n                socket.emit('list room')\n            })\n\n            socket.on(\"list room\", (rooms) => {\n                dispatch(setRooms(rooms))\n            })\n\n            socket.on(\"room joined\", (room) => {\n                dispatch(joinRoom(room))\n            })\n\n            socket.on(\"error\", (msg) => {\n                dispatch(setError(msg))\n            })\n\n            socket.on(\"users\", (users) => {\n                dispatch(setUsers(users))\n            })\n\n            socket.on('msg room', (msg) => {\n                dispatch(setMsgRoom(msg))\n            })\n\n            socket.on('msg game', (msg) => {\n                dispatch(setMsgs(msg))\n            })\n\n            socket.on('game started', (data) => {\n                dispatch(updateData(data))\n            })\n\n            socket.on('player exited', () => {\n                socket.emit('get room')\n            })\n        }\n    }, [socket]);\n\n    useEffect(() => {\n        if (socket) {\n            socket.on('piece moved', (data, player) => {\n                console.log(opponent)\n                if (auth?.name === player)\n                    dispatch(updateData(data))\n                else if (opponent === player)\n                    dispatch(updateDataOp(data))\n            })\n\n        }\n        return () => {\n            if (socket)\n                socket.off('piece moved')\n        }\n    }, [socket, auth, opponent]);\n    \n    return props.children;\n}\n\nexport default Sockets","import React from 'react'\n\nexport default function GridSquare(props) {\n    let classes = ''\n    if (!props?.shadow)\n        classes = `${props.classe} color-${props.color}`\n    else\n        classes = `grid-square color-${props.color}-shadow`\n    return <div className={classes} />\n}","export const random = (min, max) => {\n\treturn Math.floor(Math.random() * (max - min + 1)) + min\n}\n\n// return default grid\nexport const gridDefault = () => {\n\tconst rows = 20\n\tconst cols = 10\n\n\tconst array = Array.from({ length: rows }, () => Array(cols).fill(0))\n\n\treturn array\n}\n\n// random shape\nexport const randomShape = () => {\n\treturn random(1, shapes.length - 1)\n}\n\n// default state for the game\nexport const defaultState = () => {\n\treturn {\n\t\tgrid: gridDefault(),\n\t\tshape: 0,\n\t\trotation: 0,\n\t\tx: 5,\n\t\ty: -2,\n\t\tnextShape: 0,\n\t\tisRunning: false,\n\t\tscore: 0,\n\t\tspeed: 1000,\n\t\tgameOver: false,\n\t\tyShadow: -2,\n\t\tisWin: true\n\t}\n}\n\n// next rotation for a shape\nexport const nextRotation = (shape, rotation) => {\n\treturn (rotation + 1) % shapes[shape].length\n}\n\n// moves checker\nexport const canMoveTo = (shape, grid, x, y, rotation) => {\n\tconst currentShape = shapes[shape][rotation]\n\n\tfor (let row = 0; row < currentShape.length; row++) {\n\t\tfor (let col = 0; col < currentShape[row].length; col++) {\n\t\t\tif (currentShape[row][col] !== 0) {\n\t\t\t\tconst proposedX = col + x\n\t\t\t\tconst proposedY = row + y\n\t\t\t\tif (proposedY < 0) {\n\t\t\t\t\tcontinue\n\t\t\t\t}\n\n\t\t\t\tconst possibleRow = grid[proposedY]\n\t\t\t\tif (possibleRow) {\n\t\t\t\t\tif (possibleRow[proposedX] === undefined || possibleRow[proposedX] !== 0)\n\t\t\t\t\t\treturn false\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\treturn false\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\treturn true\n}\n\n// adds current shape to grid\nexport const addBlockToGrid = (shape, grid, x, y, rotation) => {\n\tlet blockoffGrid = false\n\tconst block = shapes[shape][rotation]\n\tconst newGrid = [...grid]\n\n\tfor (let row = 0; row < block.length; row++) {\n\t\tfor (let col = 0; col < block[row].length; col++) {\n\t\t\tif (block[row][col]) {\n\t\t\t\tconst yIndex = row + y\n\n\t\t\t\tif (yIndex < 0) {\n\t\t\t\t\tblockoffGrid = true\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tnewGrid[row + y][col + x] = shape\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\treturn {grid: newGrid, gameOver: blockoffGrid}\n}\n\n// Points\nexport const checkRows = (grid) => {\n\tconst points = [0, 40, 100, 300, 1200]\n\tlet completedRows = 0\n\n\tfor (let row = 0; row < grid.length; row++) {\n\t\tif (grid[row].indexOf(0) === -1) {\n\t\t\tcompletedRows++\n\t\t\tgrid.splice(row, 1)\n\t\t\tgrid.unshift(Array(10).fill(0))\n\t\t}\n\t}\n\n\treturn points[completedRows]\n}\n\n// shapes and rotations\nexport const shapes = [\n\t// none\n\t[[[0, 0, 0, 0],\n\t[0, 0, 0, 0],\n\t[0, 0, 0, 0],\n\t[0, 0, 0, 0]]],\n\n\t// I\n\t[[[0, 0, 0, 0],\n\t[1, 1, 1, 1],\n\t[0, 0, 0, 0],\n\t[0, 0, 0, 0]],\n\n\t[[0, 1, 0, 0],\n\t[0, 1, 0, 0],\n\t[0, 1, 0, 0],\n\t[0, 1, 0, 0]]],\n\n\t// T\n\t[[[0, 0, 0, 0],\n\t[1, 1, 1, 0],\n\t[0, 1, 0, 0],\n\t[0, 0, 0, 0]],\n\n\t[[0, 1, 0, 0],\n\t[1, 1, 0, 0],\n\t[0, 1, 0, 0],\n\t[0, 0, 0, 0]],\n\n\t[[0, 1, 0, 0],\n\t[1, 1, 1, 0],\n\t[0, 0, 0, 0],\n\t[0, 0, 0, 0]],\n\n\t[[0, 1, 0, 0],\n\t[0, 1, 1, 0],\n\t[0, 1, 0, 0],\n\t[0, 0, 0, 0]]],\n\n\t// L\n\t[[[0, 0, 0, 0],\n\t[1, 1, 1, 0],\n\t[1, 0, 0, 0],\n\t[0, 0, 0, 0]],\n\n\t[[1, 1, 0, 0],\n\t[0, 1, 0, 0],\n\t[0, 1, 0, 0],\n\t[0, 0, 0, 0]],\n\n\t[[0, 0, 1, 0],\n\t[1, 1, 1, 0],\n\t[0, 0, 0, 0],\n\t[0, 0, 0, 0]],\n\n\t[[0, 1, 0, 0],\n\t[0, 1, 0, 0],\n\t[0, 1, 1, 0],\n\t[0, 0, 0, 0]]],\n\n\t// J\n\t[[[1, 0, 0, 0],\n\t[1, 1, 1, 0],\n\t[0, 0, 0, 0],\n\t[0, 0, 0, 0]],\n\n\t[[0, 1, 1, 0],\n\t[0, 1, 0, 0],\n\t[0, 1, 0, 0],\n\t[0, 0, 0, 0]],\n\n\t[[0, 0, 0, 0],\n\t[1, 1, 1, 0],\n\t[0, 0, 1, 0],\n\t[0, 0, 0, 0]],\n\n\t[[0, 1, 0, 0],\n\t[0, 1, 0, 0],\n\t[1, 1, 0, 0],\n\t[0, 0, 0, 0]]],\n\n\t// Z\n\t[[[0, 0, 0, 0],\n\t[1, 1, 0, 0],\n\t[0, 1, 1, 0],\n\t[0, 0, 0, 0]],\n\n\t[[0, 0, 1, 0],\n\t[0, 1, 1, 0],\n\t[0, 1, 0, 0],\n\t[0, 0, 0, 0]]],\n\n\t// S\n\t[[[0, 0, 0, 0],\n\t[0, 1, 1, 0],\n\t[1, 1, 0, 0],\n\t[0, 0, 0, 0]],\n\n\t[[0, 1, 0, 0],\n\t[0, 1, 1, 0],\n\t[0, 0, 1, 0],\n\t[0, 0, 0, 0]]],\n\n\t// O\n\t[[[0, 1, 1, 0],\n\t[0, 1, 1, 0],\n\t[0, 0, 0, 0],\n\t[0, 0, 0, 0]]]\n]","import React from \"react\";\nimport GridSquare from \"./GridSquare\";\nimport { useSelector } from 'react-redux'\nimport { shapes } from \"../../utils\";\n\nexport default function GridBoard(props) {\n\tconst game = useSelector((state) => state.game)\n\tconst { grid, shape, rotation, x, y, yShadow } = game\n\n\tconst block = shapes[shape][rotation]\n\tconst blockColor = shape\n\tconsole.log(yShadow)\n\tconst gridSquares = grid?.map((rowArray, row) => {\n\n\t\treturn rowArray?.map((square, col) => {\n\n\t\t\tconst blockX = col - x\n\t\t\tconst blockY = row - y\n\t\t\tconst blockYshadow = row - yShadow + 1\n\t\t\tlet shadow = false\n\t\t\tlet color = square\n\n\t\t\tif (blockX >= 0 && blockX < block?.length && blockY >= 0 && blockY < block?.length) {\n\t\t\t\tcolor = block[blockY][blockX] === 0 ? color : blockColor\n\t\t\t}\n\t\t\telse if (blockX >= 0 && blockX < block?.length && blockYshadow >= 0 && blockYshadow < block?.length) {\n\t\t\t\tcolor = block[blockYshadow][blockX] === 0 ? color : blockColor\n\t\t\t\tshadow = block[blockYshadow][blockX] === 0 ? false : true\n\t\t\t}\n\n\t\t\tconst k = row * grid[0].length + col;\n\n\t\t\treturn <GridSquare\n\t\t\t\tkey={k}\n\t\t\t\tclasse={color > 0 ? 'grid-square-color' : 'grid-square'}\n\t\t\t\tshadow={shadow}\n\t\t\t\tcolor={color} />\n\t\t})\n\t})\n\n\treturn (\n\t\t<div className='grid-board'>\n\t\t\t{gridSquares}\n\t\t</div>\n\t)\n}","import React from \"react\";\nimport { useSelector, useDispatch } from 'react-redux'\nimport { addOpponent, resetDataOp } from '../../actions'\n\nexport default function Select(props) {\n    const dispatch = useDispatch()\n\tconst auth = useSelector(state => state.auth)\n    const roomPlayers = useSelector(state => state.room?.players)\n    const [player, setPlayer] = React.useState(auth?.opponent)\n    const room = useSelector(state => state.room)\n    const input = document.querySelector(\"#select\");\n\n    const players = roomPlayers?.map(item => {\n        if (item !== auth?.name)\n            return <option key={item} value={item}>{item}</option>\n    })\n\n    const handleChange = (e) => {\n        input.blur()\n        if (player !== e.target.value) {\n            setPlayer(e.target.value)\n            dispatch(resetDataOp())\n            dispatch(addOpponent(e.target.value))\n        }\n    }\n\n    React.useEffect(() => {\n        if (!auth?.opponent) {\n            if (room && room?.players.length > 1 && !auth?.opponent) {\n                room.players.map((item) => {\n                    if (item !== auth?.name) {\n                        dispatch(addOpponent(item))\n                    }\n                })\n            }\n        }\n    }, [auth, room]);\n\n\treturn (\n        <select className=\"select-dev\" id=\"select\" value={player} onChange={handleChange}>\n           {players}\n        </select>\n\t)\n}","import React from \"react\";\nimport GridSquare from \"./GridSquare\";\nimport { useSelector } from 'react-redux'\nimport { shapes } from \"../../utils\";\nimport Select from \"../UTILS/Select\";\n\nexport default function GridBoardOpo(props) {\n\tconst game = useSelector((state) => state.opGame)\n\tconst { grid, shape, rotation, x, y, gameOver, isWin } = game\n\n\tconst block = shapes[shape][rotation]\n\tconst blockColor = shape\n\n\tconst gridSquares = grid?.map((rowArray, row) => {\n\n\t\treturn rowArray?.map((square, col) => {\n\n\t\t\tconst blockX = col - x\n\t\t\tconst blockY = row - y\n\t\t\tlet shadow = false\n\t\t\tlet color = square\n\n\t\t\tif (blockX >= 0 && blockX < block?.length && blockY >= 0 && blockY < block?.length) {\n\t\t\t\tcolor = block[blockY][blockX] === 0 ? color : blockColor\n\t\t\t}\n\n\t\t\tconst k = row * grid[0].length + col;\n\n\t\t\treturn <GridSquare\n\t\t\t\tkey={k}\n\t\t\t\tclasse={color > 0 ? 'grid-square-color-opo' : 'grid-square-opo'}\n\t\t\t\tshadow={shadow}\n\t\t\t\tcolor={color} />\n\t\t})\n\t})\n\n\treturn (\n        <div className=\"opponent-dev\">\n            <div className=\"header-opponent\">\n                Opponent\n            </div>\n            <Select />\n\t\t\t{ !gameOver && !isWin ?\n\t\t\t\t<div className='grid-board-opponent'>\n\t\t\t\t\t{gridSquares}\n\t\t\t\t</div>\n\t\t\t\t:\n\t\t\t\tisWin ?\n\t\t\t\t<div className=\"Winner\">\n\t\t\t\t\tWinner !\n\t\t\t\t</div>\n\t\t\t\t:\n\t\t\t\t<div className=\"Game_Over\">\n\t\t\t\t\tGame Over !\n\t\t\t\t</div>\n\t\t\t}\n        </div>\n\t)\n}","import React from \"react\";\nimport GridSquare from \"./GridSquare\";\nimport {useSelector} from 'react-redux'\nimport { shapes } from \"../../utils\";\nimport GridBoardOpo from \"./GridBoardOpponent\";\n\nexport default function NextBlock(props) {\n    const nextShape = useSelector((state) => state.game.nextShape)\n\n    const box = shapes[nextShape][0]\n    const color = nextShape\n\n    const grid = box.map((rowArray, row) => {\n        return rowArray.map((square, col) => {\n            return <GridSquare\n                key={`${row}${col}`}\n                classe={square > 0 ? 'grid-square-color' : 'grid-square'}\n                color={square > 0 ? color : square} />\n        })\n    })\n\n    return (\n        <div className=\"next-block\">\n            {grid}\n            <GridBoardOpo />\n        </div>\n    )\n}","import React from \"react\"\nimport { useSelector, useDispatch } from \"react-redux\"\nimport { pause, restart, resume } from \"../../actions\"\n\nexport default function ScoreBoard(props) {\n    const dispatch = useDispatch()\n    const game = useSelector((state) => state.game)\n    const room = useSelector(state => state.room)\n    const socket = useSelector(state => state.socket)\n    const auth = useSelector(state => state.auth)\n    const [msg, setMsg] = React.useState('')\n    const { score, isRunning, gameOver, canRestart } = game\n    const play_btn = document.querySelector(\"#play-btn\")\n\n    const togglePlay = () => {\n        play_btn.blur()\n        if (gameOver) { return }\n        if (!isRunning) {\n            socket.emit('start game')\n        }\n    }\n\n    const typeMsg = (e) => {\n        setMsg(e.target.value)\n    }\n\n    const sendMsg = (msg) => {\n        socket.emit('msg room', msg)\n        setMsg('')\n    }\n\n    return (\n        <div className=\"score-board\">\n            <div className=\"info-dev\">Score: {score}</div>\n            <div className=\"info-dev\">Level: 1</div>\n            {auth?.name === room?.host ?\n                <div className=\"controls\">\n                    <button id=\"play-btn\" className=\"control-button\" onClick={togglePlay}>\n                        {!isRunning ? 'Start' : 'Restart'}\n                    </button>\n                    {/* <button id=\"restart-btn\" className=\"control-button\" onClick={(e) => {\n                        restart_btn.blur()\n                        dispatch(restart())\n                    }}>\n                        Restart\n                    </button> */}\n                </div>\n                :\n                <></>\n            }\n            <div className=\"chat-room\">\n            <div className=\"header-online\">\n                chat\n            </div>\n            <div className=\"chat-group\">\n                {room?.messages.map((item, index) => (\n                    <div className=\"message\" key={index}>\n                        <span className=\"message-sender\">\n                            {item.sender}\n                        </span> : {item.msg}\n                    </div>\n                ))}\n            </div>\n            <div className=\"form-room\">\n                <input\n                    type=\"text\"\n                    className=\"input-room\"\n                    placeholder=\"type message ...\"\n                    onChange={typeMsg}\n                    value={msg}\n                />\n                <div className=\"button-room\" onClick={() => sendMsg(msg)}>\n                    SEND\n                </div>\n            </div>\n        </div>\n        </div>\n    )\n}","import React, { useEffect } from \"react\";\nimport { useSelector, useDispatch, } from 'react-redux'\nimport { moveDown, moveLeft, moveRight, rotate, drop } from '../../actions'\n\nexport default function Controls(props) {\n    const keys = {\n        UP: 38,\n        DOWN: 40,\n        LEFT: 37,\n        RIGHT: 39,\n        ESPACE: 32\n    }\n    Object.freeze(keys)\n\n    const dispatch = useDispatch()\n    const isRunning = useSelector((state) => state.game.isRunning)\n    const gameOver = useSelector((state) => state.game.gameOver)\n    const socket = useSelector(state => state.socket)\n\n    const handleMoves = (moveFunc) => {\n        if (!isRunning || gameOver) {\n            return\n        }\n        dispatch(moveFunc())\n    }\n\n    const handleKeyDown = (event) => {\n        switch (event.keyCode) {\n            case keys.UP:\n                socket.emit('move piece', keys.UP)\n                return\n            case keys.DOWN:\n                socket.emit('move piece', keys.DOWN)\n                return\n            case keys.LEFT:\n                socket.emit('move piece', keys.LEFT)\n                return\n            case keys.RIGHT:\n                socket.emit('move piece', keys.RIGHT)\n                return\n            case keys.ESPACE:\n                socket.emit('move piece', keys.ESPACE)\n                return\n            default:\n                return\n        }\n    }\n\n    useEffect(() => {\n        window.addEventListener('keydown', handleKeyDown)\n        return () => {\n            window.removeEventListener('keydown', handleKeyDown);\n        };\n    }, [isRunning])\n\n    return (\n        <div className=\"controls\">\n            <button disabled={!isRunning || gameOver} className=\"control-button\" onClick={() => handleMoves(moveLeft)}>Left</button>\n            <button disabled={!isRunning || gameOver} className=\"control-button\" onClick={() => handleMoves(moveRight)}>Right</button>\n            <button disabled={!isRunning || gameOver} className=\"control-button\" onClick={() => handleMoves(rotate)}>Rotate</button>\n            <button disabled={!isRunning || gameOver} className=\"control-button\" onClick={() => handleMoves(moveDown)}>Down</button>\n            <button disabled={!isRunning || gameOver} className=\"control-button\" onClick={() => handleMoves(drop)}>Drop</button>\n        </div>\n    )\n}","import React from \"react\";\nimport { useSelector } from 'react-redux'\n\nexport default function MessagePopup(props) {\n    const isRunning = useSelector((state) => state.game.isRunning)\n    const gameOver = useSelector((state) => state.game.gameOver)\n    var classname = 'message-popup'\n    var msg = {title: '', messages: []}\n\n    if (isRunning && !gameOver)\n        classname = 'message-popup-hidden'\n    \n    if (!isRunning) {\n        msg.title = 'Waiting to Start !'\n        msg.messages = [\n            'You can start your game by click in start button',\n            'keyboard instrections :',\n            'DOWN to move down',\n            'UP to rotate piece',\n            'RIGHT to move right',\n            'LEFT to move left',\n            'SPACE to hard drop'\n        ]\n    }\n\n    if (gameOver) {\n        msg.title = 'Game Over'\n        msg.messages = ['You can restart your game by click in restart button']\n    }\n    \n    const messages = msg?.messages?.map((item, key) => {\n        return (<p key={key}>{item}</p>)\n    })\n    return (\n        <div className={classname}>\n            <h1>{msg.title}</h1>\n            {messages}\n        </div>\n    )\n}","import React from 'react'\nimport GridBoard from './GAME/GridBoard'\nimport NextBlock from './GAME/NextBlock'\nimport ScoreBoard from './GAME/ScoreBoard'\nimport Controls from './GAME/Controls'\nimport MessagePopup from './GAME/MessagePopup'\n\nexport default function Game() {\n    React.useEffect(() => {\n        console.log('hi')\n        \n        return () => {\n            console.log('bey')\n        };\n    }, []);\n    \n    return (\n        <>\n            <GridBoard />\n            <NextBlock />\n            <ScoreBoard />\n            <Controls />\n            <MessagePopup />\n        </>\n    )\n}","import React from \"react\";\nimport { useDispatch, useSelector } from 'react-redux';\nimport {removeError} from '../../actions'\n\nexport default function Error (props) {\n    const errorState = useSelector((state) => state.error);\n    const dispatch = useDispatch();\n\n    const remError = (e) => {\n        dispatch(removeError());\n    }\n\n    return (\n        <>\n        {errorState ?\n            <div className=\"alert-error\">\n                <h1 className=\"msg-err\">{errorState}</h1>\n                <div className=\"icon-close\" onClick={remError}>\n                    x\n                </div>\n            </div>\n            :\n            null\n        }\n        </>\n        \n    )\n}","import React from \"react\";\nimport Error from \"./UTILS/Error\";\nimport { useState } from \"react\";\nimport { useDispatch } from 'react-redux';\nimport { io } from \"socket.io-client\";\nimport { connectSocket, setError } from \"../actions\";\n\nexport default function Login (props) {\n    const ENDPOINT = \"http://10.11.4.4:5000\";\n    const [username, setUserName] = useState(\"\");\n    const dispatch = useDispatch()\n\n    const changeUsername = (e) => {\n        setUserName(e.target.value)\n    }\n\n    const submit = (e) => {\n        if (!username) {\n            e.preventDefault()\n            dispatch(setError(\"you should enter a username first\"))\n        }\n        else {\n            const socket = io(ENDPOINT, {\n                withCredentials: true,\n            })\n            document.cookie = `name=${username}`\n            dispatch(connectSocket(socket))\n            if (!socket.connected)\n                dispatch(setError(\"failed to connect\"))\n        }\n    }\n\n    return (\n        <div className=\"username-div\">\n            <label htmlFor=\"username\" className=\"username-label\">\n                User Name :\n            </label>\n            <input\n                className=\"username-input\"\n                id=\"username\"\n                type=\"text\"\n                onChange={changeUsername}\n                placeholder=\"enter your username\"/>\n            <button type=\"submit\" className=\"submit-button\" onClick={submit}>ENTER</button>\n            <Error />\n        </div>\n    )\n}","import React from \"react\";\nimport { useState } from \"react\";\nimport { joinRoom } from \"../../actions\";\nimport { useSelector, useDispatch } from 'react-redux'\nimport Error from \"../UTILS/Error\";\n\nexport default function Room(props) {\n    const rooms = useSelector(state => state.rooms);\n    const [room, setRoom] = useState(\"\");\n    const socket = useSelector(state => state.socket);\n\n    React.useEffect(() => {\n        if (socket) {\n            socket.emit(\"list room\")\n        }\n    }, [socket])\n\n    const changeRoomName = (e) => {\n        setRoom(e.target.value)\n    }\n\n    const createRoom = (e) => {\n        if (!room)\n            e.preventDefault()\n        else {\n            setRoom(\"\")\n            if (socket) {\n                socket.emit(\"create room\", room)\n                socket.emit(\"list room\")\n            }\n        }\n    }\n\n    const joinRoom = (name) => {\n        if (socket) {\n            socket.emit(\"join room\", name)\n        }\n    }\n\n    return (\n        <div className=\"rooms\">\n            <div className=\"header-online\">\n                Rooms\n            </div>\n            <div className=\"rooms-group\">\n                {rooms.map((item, index) => (\n                    <div key={index} className=\"user-online\">\n                        {item}\n                        <div\n                            key={\"button-\" + index}\n                            className=\"join-room\"\n                            onClick={() => joinRoom(item)}\n                        >\n                            JOIN\n                        </div>\n                    </div>\n                ))}\n            </div>\n            <div className=\"form-room\">\n                <input\n                    type=\"text\"\n                    className=\"input-room\"\n                    placeholder=\"room name\"\n                    onChange={changeRoomName}\n                    value={room}\n                />\n                <div className=\"button-room\" onClick={createRoom}>\n                    CREATE ROOM\n                </div>\n            </div>\n            <Error />\n        </div>\n    )\n}","import React from \"react\";\nimport { useEffect } from \"react\";\nimport { useSelector } from 'react-redux'\n\nexport default function Users(props) {\n    const socket = useSelector(state => state.socket)\n    const users = useSelector(state => state.users)\n\n    useEffect(() => {\n        if (socket) {\n            socket.emit(\"users\")\n        }\n    }, [socket])\n\n    return (\n        <div className=\"users-online\">\n            <div className=\"header-online\">\n                {users.length} users online\n            </div>\n            {users.map((item, index) => (\n                <div key={index} className=\"user-online\">{item}<div className=\"dot-online\"></div></div>\n            ))}\n        </div>\n    )\n}","import React from \"react\";\nimport { useState, useEffect } from \"react\";\nimport { useSelector } from 'react-redux'\n\nexport default function Chat(props) {\n    const [msg, setMsg] = useState(\"\");\n    const socket = useSelector(state => state.socket);\n    const messages = useSelector(state => state.messages);\n\n    const typeMsg = (e) => {\n        setMsg(e.target.value)\n    }\n\n    const sendMsg = (e) => {\n        if (!msg)\n            e.preventDefault()\n        else {\n            socket.emit(\"msg game\", msg)\n            setMsg(\"\")\n        }\n    }\n\n    return (\n        <div className=\"chat\">\n            <div className=\"header-online\">\n                chat\n            </div>\n            <div className=\"chat-group\">\n                {messages.map((item, index) => (\n                    <div className=\"message\" key={index}>\n                        <span className=\"message-sender\">\n                            {item.sender}\n                        </span> : {item.msg}\n                    </div>\n                ))}\n            </div>\n            <div className=\"form-room\">\n                <input\n                    type=\"text\"\n                    className=\"input-room\"\n                    placeholder=\"type message ...\"\n                    onChange={typeMsg}\n                    value={msg}\n                />\n                <div className=\"button-room\" onClick={sendMsg}>\n                    SEND\n                </div>\n            </div>\n        </div>\n    )\n}","import React from \"react\";\n\nimport Room from \"./ROOMS/Room\";\nimport Users from \"./ROOMS/Users\"\nimport Chat from \"./ROOMS/Chat\";\n\nexport default function Rooms(props) {\n    return (\n        <>\n            <Users />\n            <Room />\n            <Chat />\n        </>\n    )\n}","import './App.css';\nimport React from 'react';\nimport { useSelector } from 'react-redux'\nimport {\n\tRoutes,\n\tRoute,\n\tuseNavigate\n} from \"react-router-dom\";\n\nimport Sockets from './services/Sockets';\n\nimport Game from './components/Game';\nimport Login from './components/Login';\nimport Rooms from './components/Rooms';\n\nfunction App() {\n\tconst auth = useSelector((state) => state.auth)\n\tconst room = useSelector((state) => state.room)\n\tconst navigate = useNavigate()\n\n\tReact.useEffect(() => {\n\t\tif (room)\n\t\tconsole.log(room.name)\n\t\tif (!auth)\n\t\t\tnavigate(\"/\");\n\t\telse if (room)\n\t\t\tnavigate(`${room.name}[${auth.name}]`)\n\t\telse\n\t\t\tnavigate(\"/rooms\")\n\t}, [auth, room])\n\n\treturn (\n\t\t<div className=\"App\">\n\t\t\t<Sockets>\n\t\t\t\t<header className=\"App-header\">\n\t\t\t\t\t<h1 className=\"App-title\">Tetris</h1>\n\t\t\t\t</header>\n\t\t\t\t<Routes>\n\t\t\t\t\t<Route path=\"/\" element={<Login />} />\n\t\t\t\t\t<Route path=\"rooms\" element={<Rooms />} />\n\t\t\t\t\t<Route path=\":room[:username]\" element={<Game />} />\n\t\t\t\t\t<Route path=\"*\" element={<Login />} />\n\t\t\t\t</Routes>\n\t\t\t</Sockets>\n\t\t</div>\n\n\t);\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import {\n    defaultState, nextRotation, canMoveTo, addBlockToGrid, checkRows, randomShape\n} from '../utils'\nimport {\n    MOVE_RIGHT, MOVE_LEFT, MOVE_DOWN, ROTATE, PAUSE, RESUME, RESTART, DROP, UPDATE\n} from \"../actions\"\n\nconst gameReducer = (state = defaultState(), action) => {\n    const { shape, grid, x, y, rotation, nextShape, score, isRunning } = state\n\n    const addInGrid = (y) => {\n        const obj = addBlockToGrid(shape, grid, x, y, rotation)\n        const newGrid = obj.grid\n        const gameOver = obj.gameOver\n\n        if (gameOver) {\n            const newState = { ...state }\n            newState.shape = 0\n            newState.grid = newGrid\n            return { ...state, gameOver: true }\n        }\n\n        const newState = defaultState()\n        newState.grid = newGrid\n        newState.shape = nextShape\n        newState.nextShape = randomShape()\n        newState.score = score\n        newState.isRunning = isRunning\n\n        // TODO: check and set level\n        newState.score = score + checkRows(newGrid)\n\n        return newState\n    }\n\n    const moveDown = () => {\n        const maybeY = y + 1\n        if (canMoveTo(shape, grid, x, maybeY, rotation)) {\n            return { ...state, y: maybeY }\n        }\n\n        return addInGrid(y)\n    }\n\n    const drop = () => {\n        var maybeY = y + 1\n        while (canMoveTo(shape, grid, x, maybeY, rotation)) {\n            maybeY++\n        }\n        maybeY -= 1\n        return addInGrid(maybeY)\n    }\n\n    switch (action.type) {\n        case ROTATE:\n            const newRotation = nextRotation(shape, rotation)\n            if (canMoveTo(shape, grid, x, y, newRotation)) {\n                return { ...state, rotation: newRotation }\n            }\n            return state\n\n        case MOVE_RIGHT:\n            if (canMoveTo(shape, grid, x + 1, y, rotation)) {\n                return { ...state, x: x + 1 }\n            }\n            return state\n\n        case MOVE_LEFT:\n            if (canMoveTo(shape, grid, x - 1, y, rotation)) {\n                return { ...state, x: x - 1 }\n            }\n            return state\n\n        case MOVE_DOWN:\n            return moveDown()\n\n        case RESUME:\n            return { ...state, isRunning: true }\n\n        case PAUSE:\n            return { ...state, isRunning: false }\n\n        case DROP:\n            return drop()\n\n        case RESTART:\n            return defaultState()\n        \n        case UPDATE:\n            return action.payload\n        default:\n            return state\n    }\n}\n\nexport default gameReducer","import { AUTH_LOGIN, LOGOUT, ADDOP } from \"../actions\";\n\nconst authReducer = (state = null, action) => {\n    switch (action.type) {\n        case AUTH_LOGIN:\n            return action.payload\n        case ADDOP:\n            return {...state, opponent: action.payload}\n        case LOGOUT:\n            return false\n        default:\n            return state\n    }\n}\n\nexport default authReducer","import { SOCKET_CONNECT } from \"../actions\";\n\nconst socketReducer = (state = null, action) => {\n    switch (action.type) {\n        case SOCKET_CONNECT:\n            return action.payload\n        default:\n            return state\n    }\n}\n\nexport default socketReducer","import { ROOM, EXIT_ROOM, MSGROOM } from \"../actions\";\n\nconst roomReducer = (state = null, action) => {\n    switch (action.type) {\n        case ROOM:\n            return action.payload\n        case MSGROOM:\n            return {...state, messages: [...state.messages, action.payload]}\n        case EXIT_ROOM:\n            return false\n        default:\n            return state\n    }\n}\n\nexport default roomReducer","import { ROOMS } from \"../actions\";\n\nconst roomsReducer = (state = [], action) => {\n    switch (action.type) {\n        case ROOMS:\n            return action.payload\n        default:\n            return state\n    }\n}\n\nexport default roomsReducer","import { ERROR, NoERROR } from \"../actions\";\n\nconst errorReducer = (state = null, action) => {\n    switch (action.type) {\n        case ERROR:\n            return action.payload\n        case NoERROR:\n            return null\n        default:\n            return state\n    }\n}\n\nexport default errorReducer","import { USERS } from \"../actions\";\n\nconst usersReducer = (state = [], action) => {\n    switch (action.type) {\n        case USERS:\n            return action.payload\n        default:\n            return state\n    }\n}\n\nexport default usersReducer","import { MSGS } from \"../actions\";\n\nconst msgsReducer = (state = [], action) => {\n    switch (action.type) {\n        case MSGS:\n            return [...state, action.payload]\n        default:\n            return state\n    }\n}\n\nexport default msgsReducer","import {\n    defaultState\n} from '../utils'\nimport {\n    UPDATEOP, RESETOP\n} from \"../actions\"\n\nconst opGameReducer = (state = defaultState(), action) => {\n    switch (action.type) {\n        case RESETOP:\n            return defaultState()\n        \n        case UPDATEOP:\n            return action.payload\n\n        default:\n            return state\n    }\n}\n\nexport default opGameReducer","import { combineReducers } from 'redux'\nimport gameReducer from './game-reducer'\nimport authReducer from './auth-reducer'\nimport socketReducer from './socket_reducer'\nimport roomReducer from './room-reducer'\nimport roomsReducer from './rooms-reducer'\nimport errorReducer from './error-reducer'\nimport usersReducer from './users-reducer'\nimport msgsReducer from './msgs-reducer'\nimport opGameReducer from './opGame-reducer'\n\nconst reducers = combineReducers({\n    game: gameReducer,\n    opGame: opGameReducer,\n    auth: authReducer,\n    socket: socketReducer,\n    room: roomReducer,\n    rooms: roomsReducer,\n    error: errorReducer,\n    users: usersReducer,\n    messages: msgsReducer\n})\n\nexport default reducers","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport { Provider } from 'react-redux'\nimport { createStore } from 'redux';\nimport { HashRouter } from 'react-router-dom';\n\nimport reducers from './reducers';\n\nconst store = createStore(\n  reducers,\n  window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\n)\n\nReactDOM.render(\n  <React.StrictMode>\n    <HashRouter>\n      <Provider store={store}>\n        <App />\n      </Provider>\n    </HashRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}